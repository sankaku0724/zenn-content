---
title: "あの日見たtouchコマンドの意味を僕達はまだ知らない。"
emoji: "🕰️"
type: "tech"
topics:
  - "touchコマンド"
  - "cli"
  - "security"
  - "ターミナル"
  - "unix"
published: false
---

## はじめに

:::message
この記事は、私の解釈に基づいてtouchコマンドに関する内容をまとめたものです。
もし誤解や間違いがあれば、ぜひコメントなどでご指摘していただけると助かります。
:::

皆さんは**touchコマンド**をご存知ですか？

私は以下のように，ターミナル内でtouchコマンドを利用して，よく新しい空ファイルを作成しています．

```
touch 作りたいファイル名.拡張子
```

以前、私が書いた[記事](https://zenn.dev/joho0724/articles/sankaku0724-newcreate8)を読んでくれた[友人](https://qiita.com/UMA821)から，次のような感想をいただきました。

- [JSONがJISにも翻訳されてるのは知らんかった](https://wiki.suikawiki.org/n/JIS%20X%203061$984#section-JSON-%E5%80%A4%E2%80%A8%E6%96%87%E5%AD%97%E5%88%97&gsc.tab=0)
- JSONの文字列はダブルクォーテーションで囲むように定義されてる

- **touchコマンドは本来新しい空ファイルを作るコマンドではないことは頭の片隅に置いといてほしいかも？**

待て待て待て！え？touchコマンドって，新しい空ファイルを作るコマンドじゃないの！？どういうことだ！？

## touchコマンドって本来はどういったものなんや？

[Wikipedia](https://ja.wikipedia.org/wiki/Touch_(UNIX))によると、次のように説明されていました。

> touchは、標準的なUnixのプログラムであり、ファイルの最終アクセス時刻と最終変更時刻を変えるために使用される。また、新規の空ファイルを作成するためにも使用される。

**ファイルの最終アクセス時刻と最終変更時刻を変えるために使用される**？

どうやら，本来，touchコマンドは**タイムスタンプの更新**に使われるものらしいです．

## タイムスタンプとは？

タイムスタンプは[総務省](https://www.soumu.go.jp/main_sosiki/cybersecurity/kokumin/basic/basic_structure_05.html#:~:text=%E3%81%82%E3%82%8B%E6%99%82%E5%88%BB%E3%81%AB%E3%81%9D%E3%81%AE%E9%9B%BB%E5%AD%90,%E3%81%93%E3%81%A8%E3%82%92%E8%A8%BC%E6%98%8E%E3%81%99%E3%82%8B%E6%8A%80%E8%A1%93%E3%80%82)によると，

> ある時刻にその電子データが存在していたことと、それ以降改ざんされていないことを証明する技術。タイムスタンプに記載されている情報とオリジナルの電子データから得られる情報を比較することで、タイムスタンプの付された時刻から改ざんされていないことを確実かつ簡単に確認することができます。

と紹介されていました．



タイムスタンプにはいくつかのメリットがあります。主なメリットは次の通りです：

ファイル管理: ファイルのタイムスタンプを使用することで、ファイルの作成時刻や最終更新時刻を把握することができます。これにより、ファイルの変更履歴を管理し、必要な場合に過去のバージョンに戻ることができます。

セキュリティ: ファイルのタイムスタンプは、ファイルが最後にアクセスされた時刻や変更された時刻を示すため、セキュリティ上の問題を追跡するのに役立ちます。例えば、不正アクセスや不正な変更を検出するために使用できます。

同期: ファイルのタイムスタンプは、ファイルが変更された時刻を示すため、異なるデバイスやシステム間でファイルを同期する際に役立ちます。特定の時刻以降に変更されたファイルを同期することができます。

バックアップ: バックアップソフトウェアは、ファイルのタイムスタンプを使用して、最後に変更されたファイルのみをバックアップすることができます。これにより、バックアップの効率が向上し、ストレージスペースを節約できます。

アーカイブ: タイムスタンプを使用すると、古いファイルを自動的にアーカイブすることができます。一定期間以上変更されていないファイルを自動的にアーカイブすることで、ストレージスペースを効果的に管理できます。

これらはタイムスタンプのメリットの一部ですが、重要な役割を果たし、ファイルやシステムの管理、セキュリティ、バックアップ、同期などのさまざまな側面で役立ちます。


タイムスタンプは様々な観点で重宝されているようです．

## touchコマンドのオプション

-a: アクセス時刻を更新します。
-c: ファイルが存在しない場合にはファイルを作成しません。

はい、touchコマンドは主に新しいファイルを作成するためのものですが、既存のファイルのタイムスタンプを更新するためにも使用できます。

通常の使用法では、指定されたファイルが存在しない場合、touchコマンドはそのファイルを新規に作成します。ファイルが既に存在する場合でも、デフォルトの動作ではファイルの最終更新時刻を現在の時刻に更新します。つまり、既存のファイルを更新する目的で使用することもできますが、そのファイルの内容を変更するわけではありません。

例えば、新しいファイル newfile.txt を作成する場合、次のようにします。

bash
Copy code
touch newfile.txt


このコマンドは newfile.txt という名前の新しいファイルを作成します。ファイルが既に存在している場合でも、ファイルの最終更新時刻が更新されます。

ただし、-cオプションを使用すると、ファイルが存在しない場合にのみファイルを作成し、既存のファイルのタイムスタンプは更新されません。



-d: 指定した日時にタイムスタンプを設定します。
-f: 強制的にファイルを作成します。
-h: シンボリックリンクのタイムスタンプを更新します。
-m: 変更時刻を更新します（デフォルトの動作）。
-r: 指定したファイルのタイムスタンプを使用してファイルのタイムスタンプを設定します。
-t: タイムスタンプを指定した時間に設定します。
--help: ヘルプメッセージを表示します。
--version: バージョン情報を表示します。



## まとめ

- touchコマンドは**タイムスタンプの更新**に使われる
- touchコマンドを用いることで新しい空ファイルの作成もできる


**皆さんも素敵なtouchコマンドライフを！！！🌸**

## その他参考記事

https://zenn.dev/hiropoko/articles/0eaba9bb6382d7

https://eng-entrance.com/linux-command-touch#-d--dateSTRING

https://e-words.jp/w/%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%97.html
